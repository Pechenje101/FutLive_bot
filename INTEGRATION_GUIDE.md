# FutLive Player V2 - ะัะบะพะฒะพะดััะฒะพ ะฟะพ ะธะฝัะตะณัะฐัะธะธ

## ะะฑะทะพั ัะธััะตะผั

ะกะธััะตะผะฐ ัะพััะพะธั ะธะท ััะตั ะพัะฝะพะฒะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ:

1. **Telegram Bot** (`bot_final.py`) - ะพัะฝะพะฒะฝะพะน ะธะฝัะตััะตะนั ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
2. **API Server** (`api_server.py`) - REST API ะดะปั ะฟะพะปััะตะฝะธั ะดะฐะฝะฝัั ะพ ะผะฐััะฐั ะธ ะบะฐะฝะฐะปะฐั
3. **Web App** (React ะฟัะธะปะพะถะตะฝะธะต) - ะฒัััะพะตะฝะฝัะน ะฟะปะตะตั ะดะปั Telegram Mini App

## ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Telegram User                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โผ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
        โ    Telegram Bot (@FutLive)     โ
        โ   - /start ะบะพะผะฐะฝะดะฐ             โ
        โ   - ะัะฑะพั ะผะฐััะฐ                โ
        โ   - ะัะบัััะธะต Web App           โ
        โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโ
                     โ
        โโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
        โ   API Server (Flask)           โ
        โ   - GET /api/matches           โ
        โ   - GET /api/channels/{id}     โ
        โ   - Real parser integration    โ
        โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโ
                     โ
        โโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
        โ   Parser (parser.py)           โ
        โ   - Scrape gooool365.org       โ
        โ   - Extract Ace Stream links   โ
        โ   - Get web player URLs        โ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ะะพะผะฟะพะฝะตะฝัั

### 1. Telegram Bot (bot_final.py)

**ะคัะฝะบัะธะธ:**
- ะะฑัะฐะฑะพัะบะฐ ะบะพะผะฐะฝะดั `/start`
- ะัะพะฑัะฐะถะตะฝะธะต ัะฟะธัะบะฐ ะผะฐััะตะน ั inline ะบะฝะพะฟะบะฐะผะธ
- ะัะบัััะธะต Web App ะฟัะธ ะฝะฐะถะฐัะธะธ ะฝะฐ ะผะฐัั
- ะะตัะตะดะฐัะฐ ID ะผะฐััะฐ ะฒ Web App ัะตัะตะท URL ะฟะฐัะฐะผะตััั

**ะะพะฝัะธะณััะฐัะธั:**
```python
API_TOKEN = "8111388773:AAFiCTukv5d8XSavnsL7ybMs8kRL42uFWB4"
WEB_APP_URL = "https://futlive-player-v2.manus.space/player"
API_BASE_URL = "https://futlive-player-v2.manus.space/api"
```

**ะะฐะฟััะบ:**
```bash
python3 /home/ubuntu/futlive-player-v2/bot_final.py
```

### 2. API Server (api_server.py)

**Endpoints:**
- `GET /api/health` - ะฟัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั API
- `GET /api/matches` - ะฟะพะปััะธัั ะฒัะต ะผะฐััะธ
- `GET /api/match/<id>` - ะฟะพะปััะธัั ะผะฐัั ะฟะพ ID
- `GET /api/channels/<match_id>` - ะฟะพะปััะธัั ะบะฐะฝะฐะปั ะดะปั ะผะฐััะฐ
- `GET /api/channel/<match_id>/<channel_id>` - ะฟะพะปััะธัั ะบะพะฝะบัะตัะฝัะน ะบะฐะฝะฐะป
- `POST /api/clear-cache` - ะพัะธััะธัั ะบัั ะผะฐััะตะน

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะบััะธัะพะฒะฐะฝะธะต ะฝะฐ 5 ะผะธะฝัั
- Retry ะปะพะณะธะบะฐ ะฟัะธ ะพัะธะฑะบะฐั ัะตัะธ
- ะะพะดะดะตัะถะบะฐ CORS
- ะะฝัะตะณัะฐัะธั ั ัะตะฐะปัะฝัะผ ะฟะฐััะตัะพะผ

**ะะฐะฟััะบ:**
```bash
python3 /home/ubuntu/futlive-player-v2/api_server.py
```

### 3. Web App (React)

**ะะพะผะฟะพะฝะตะฝัั:**
- `Player.tsx` - ะณะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ ะฟะปะตะตัะฐ
- `VideoJsPlayer.tsx` - ะบะพะผะฟะพะฝะตะฝั Video.js ะฟะปะตะตัะฐ ั retry ะปะพะณะธะบะพะน
- `api.ts` - API ะบะปะธะตะฝั ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ัะตัะฒะตัะพะผ
- `acestream.ts` - ััะธะปะธัั ะดะปั ัะฐะฑะพัั ั Ace Stream

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะัััะพะตะฝะฝะฐั ะฟะพะดะดะตัะถะบะฐ Telegram Web App API
- Video.js ะฟะปะตะตั ั ะฟะพะดะดะตัะถะบะพะน HLS, DASH, MP4
- ะะฒัะพะผะฐัะธัะตัะบะฐั retry ะปะพะณะธะบะฐ ะฟัะธ ะพัะธะฑะบะฐั
- ะะพะดะดะตัะถะบะฐ ะฝะตัะบะพะปัะบะธั Ace Stream ะฟัะพะบัะธ
- ะะตัะตะบะปััะตะฝะธะต ะผะตะถะดั ะบะฐะฝะฐะปะฐะผะธ

## ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### ะจะฐะณ 1: ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะะปั API ัะตัะฒะตัะฐ
pip3 install flask flask-cors requests beautifulsoup4

# ะะปั Web App (ัะถะต ัััะฐะฝะพะฒะปะตะฝั)
cd /home/ubuntu/futlive-player-v2
pnpm install
```

### ะจะฐะณ 2: ะะฐะฟััะบ API ัะตัะฒะตัะฐ

```bash
python3 /home/ubuntu/futlive-player-v2/api_server.py
```

ะกะตัะฒะตั ะทะฐะฟัััะธััั ะฝะฐ `http://localhost:5000`

### ะจะฐะณ 3: ะะฐะฟััะบ Web App (dev ัะตัะฒะตั)

```bash
cd /home/ubuntu/futlive-player-v2
pnpm run dev
```

Web App ะฑัะดะตั ะดะพัััะฟะตะฝ ะฝะฐ `http://localhost:3000`

### ะจะฐะณ 4: ะะฐะฟััะบ Telegram Bot

```bash
python3 /home/ubuntu/futlive-player-v2/bot_final.py
```

ะะพั ะฑัะดะตั ัะปััะฐัั ะฒัะพะดััะธะต ัะพะพะฑัะตะฝะธั ะพั ะฟะพะปัะทะพะฒะฐัะตะปะตะน

## ะขะตััะธัะพะฒะฐะฝะธะต

### ะขะตััะธัะพะฒะฐะฝะธะต API

```bash
# ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั
curl http://localhost:5000/api/health

# ะะพะปััะธัั ะผะฐััะธ
curl http://localhost:5000/api/matches

# ะะพะปััะธัั ะบะฐะฝะฐะปั ะดะปั ะผะฐััะฐ 0
curl http://localhost:5000/api/channels/0
```

### ะขะตััะธัะพะฒะฐะฝะธะต Web App

1. ะัะบัะพะนัะต `http://localhost:3000/player?match_id=0` ะฒ ะฑัะฐัะทะตัะต
2. ะัะพะฒะตัััะต ะทะฐะณััะทะบั ะผะฐััะฐ ะธ ะบะฐะฝะฐะปะพะฒ
3. ะะพะฟัะพะฑัะนัะต ะฟะตัะตะบะปััะฐัััั ะผะตะถะดั ะบะฐะฝะฐะปะฐะผะธ

### ะขะตััะธัะพะฒะฐะฝะธะต Telegram Bot

1. ะะฐะนะดะธัะต ะฑะพัะฐ ะฒ Telegram (ะฟะพะธัะบ ะฟะพ ัะพะบะตะฝั ะธะปะธ ะธะผะตะฝะธ)
2. ะัะฟัะฐะฒััะต `/start`
3. ะัะฑะตัะธัะต ะผะฐัั ะธะท ัะฟะธัะบะฐ
4. ะะฐะถะผะธัะต "๐ฑ ะกะผะพััะตัั ะฒ ะฟัะธะปะพะถะตะฝะธะธ"
5. ะัะพะฒะตัััะต, ััะพ ะฟะปะตะตั ะทะฐะณััะถะฐะตััั ะฒ Web App

## ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

### ะัะธะฑะบะธ ะฟะปะตะตัะฐ

ะะพะผะฟะพะฝะตะฝั `VideoJsPlayer` ะฐะฒัะพะผะฐัะธัะตัะบะธ:
1. ะััะฐะตััั ะทะฐะณััะทะธัั ะฟะพัะพะบ 3 ัะฐะทะฐ ั ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝะพะน ะทะฐะดะตัะถะบะพะน
2. ะะปั Ace Stream ะฟัะพะฑัะตั ัะฐะทะฝัะต ะฟัะพะบัะธ
3. ะัะพะฑัะฐะถะฐะตั ะธะฝัะพัะผะฐัะธะฒะฝัะต ัะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั
4. ะัะตะดะปะฐะณะฐะตั ะฟะตัะตะบะปััะธัััั ะฝะฐ ะดััะณะพะน ะบะฐะฝะฐะป

### ะัะธะฑะบะธ API

API ัะตัะฒะตั:
1. ะััะธััะตั ะดะฐะฝะฝัะต ะฝะฐ 5 ะผะธะฝัั
2. ะะพะทะฒัะฐัะฐะตั ะฟะพะฝััะฝัะต ัะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั
3. ะะพะดะดะตัะถะธะฒะฐะตั CORS ะดะปั ััะพะฝัะตะฝะดะฐ
4. ะะผะตะตั endpoint ะดะปั ะพัะธััะบะธ ะบััะฐ

## ะะฟัะธะผะธะทะฐัะธั Ace Stream

### ะะพัััะฟะฝัะต ะฟัะพะบัะธ

1. `ace.as-proxy.com` - ะพัะฝะพะฒะฝะพะน ะฟัะพะบัะธ
2. `acestream.proxy.manus.space` - ัะตะทะตัะฒะฝัะน ะฟัะพะบัะธ
3. `aceplay.net` - ะดะพะฟะพะปะฝะธัะตะปัะฝัะน ะฟัะพะบัะธ
4. `acestream.online` - ัะตะทะตัะฒะฝัะน ะฒะฐัะธะฐะฝั

### ะะฒัะพะผะฐัะธัะตัะบะธะน fallback

ะัะธ ะพัะธะฑะบะต ะทะฐะณััะทะบะธ ัะตัะตะท ะพะดะธะฝ ะฟัะพะบัะธ, ัะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ:
1. ะะตัะตัะพะดะธั ะฝะฐ ัะปะตะดัััะธะน ะฟัะพะบัะธ
2. ะะพะบะฐะทัะฒะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ะฟะพะฟััะบะต
3. ะะพะฒัะพััะตั ะฟะพะฟััะบั ะทะฐะณััะทะบะธ

### ะััะฝะพะต ะฟะตัะตะบะปััะตะฝะธะต

ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะฒัััะฝัั:
1. ะะตัะตะบะปััะฐัััั ะผะตะถะดั ะบะฐะฝะฐะปะฐะผะธ ะบะฝะพะฟะบะฐะผะธ "ะัะตะดัะดััะธะน" / "ะกะปะตะดัััะธะน"
2. ะะฐะถะธะผะฐัั ะฝะฐ ะฝะพะผะตั ะบะฐะฝะฐะปะฐ ะดะปั ะฟััะผะพะณะพ ะฒัะฑะพัะฐ
3. ะะธะดะตัั ัะธะฟ ะฟะพัะพะบะฐ (Ace Stream, HLS, Web)

## ะะฐะทะฒะตัััะฒะฐะฝะธะต

### ะะฐะทะฒะตัััะฒะฐะฝะธะต Web App

Web App ัะถะต ัะฐะทะฒะตัะฝััะฐ ะฝะฐ `https://futlive-player-v2.manus.space`

ะะปั ะพะฑะฝะพะฒะปะตะฝะธั:
1. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั ะฒ ะบะพะด
2. ะะฐะฟัััะธัะต `pnpm build`
3. ะัะฟะพะปัะทัะนัะต Management UI ะดะปั ะฟัะฑะปะธะบะฐัะธะธ

### ะะฐะทะฒะตัััะฒะฐะฝะธะต Bot ะธ API

ะะปั ะฟะพััะพัะฝะฝะพะณะพ ะทะฐะฟััะบะฐ ะฝะฐ ัะตัะฒะตัะต ะธัะฟะพะปัะทัะนัะต systemd ะธะปะธ supervisor:

```bash
# systemd ัะตัะฒะธั ะดะปั ะฑะพัะฐ
sudo nano /etc/systemd/system/futlive-bot.service

[Unit]
Description=FutLive Telegram Bot
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/futlive-player-v2
ExecStart=/usr/bin/python3 /home/ubuntu/futlive-player-v2/bot_final.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target

# ะะบะปััะธัั ัะตัะฒะธั
sudo systemctl enable futlive-bot
sudo systemctl start futlive-bot
```

## ะะพะณะธัะพะฒะฐะฝะธะต

### Bot ะปะพะณะธ

```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
python3 /home/ubuntu/futlive-player-v2/bot_final.py 2>&1 | tee bot.log
```

### API ะปะพะณะธ

```bash
# ะัะพัะผะพัั ะปะพะณะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
python3 /home/ubuntu/futlive-player-v2/api_server.py 2>&1 | tee api.log
```

### Web App ะปะพะณะธ

ะัะบัะพะนัะต DevTools ะฒ ะฑัะฐัะทะตัะต (F12) ะดะปั ะฟัะพัะผะพััะฐ ะบะพะฝัะพะปะธ

## ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: Bot ะฝะต ะพัะฒะตัะฐะตั ะฝะฐ ัะพะพะฑัะตะฝะธั

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต ัะพะบะตะฝ ะฒ `bot_final.py`
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะทะฐะฟััะตะฝ
3. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ

### ะัะพะฑะปะตะผะฐ: API ัะตัะฒะตั ะฝะต ะดะพัััะฟะตะฝ

**ะะตัะตะฝะธะต:**
1. ะฃะฑะตะดะธัะตัั, ััะพ ัะตัะฒะตั ะทะฐะฟััะตะฝ ะฝะฐ ะฟะพััั 5000
2. ะัะพะฒะตัััะต firewall ะฟัะฐะฒะธะปะฐ
3. ะัะพะฒะตัััะต ะปะพะณะธ ะฝะฐ ะพัะธะฑะบะธ

### ะัะพะฑะปะตะผะฐ: ะะปะตะตั ะฝะต ะทะฐะณััะถะฐะตััั

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต URL ะผะฐััะฐ ะฒ API ะพัะฒะตัะต
2. ะฃะฑะตะดะธัะตัั, ััะพ Ace Stream ID ะฟัะฐะฒะธะปัะฝัะน
3. ะะพะฟัะพะฑัะนัะต ะดััะณะพะน ะฟัะพะบัะธ ะฒัััะฝัั
4. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ ะฝะฐ ะพัะธะฑะบะธ

### ะัะพะฑะปะตะผะฐ: ะะฐััะตั ะฝะต ะฝะฐัะพะดะธั ะผะฐััะธ

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต, ััะพ ัะฐะนั gooool365.org ะดะพัััะฟะตะฝ
2. ะฃะฑะตะดะธัะตัั, ััะพ ััััะบัััะฐ ัะฐะนัะฐ ะฝะต ะธะทะผะตะฝะธะปะฐัั
3. ะะฑะฝะพะฒะธัะต ัะตะปะตะบัะพัั ะฒ `parser.py`
4. ะัะพะฒะตัััะต ะปะพะณะธ ะฟะฐััะตัะฐ

## ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [aiogram ะดะพะบัะผะตะฝัะฐัะธั](https://docs.aiogram.dev/)
- [Video.js ะดะพะบัะผะตะฝัะฐัะธั](https://docs.videojs.com/)
- [Telegram Web App API](https://core.telegram.org/bots/webapps)
- [Flask ะดะพะบัะผะตะฝัะฐัะธั](https://flask.palletsprojects.com/)

## ะะพะฝัะฐะบัั ะธ ะฟะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ะปะพะณะธ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะทะฐะฟััะตะฝั
3. ะัะพะฒะตัััะต ัะตัะตะฒะพะต ัะพะตะดะธะฝะตะฝะธะต
4. ะะฑัะฐัะธัะตัั ะฒ ะฟะพะดะดะตัะถะบั
